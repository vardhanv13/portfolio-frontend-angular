<section class="contact">

  <div 
    class="notification-toast"
    [ngClass]="{ show: showMessage, success: isSuccess, error: !isSuccess }">
    <div class="toast-content">
      {{ statusMessage }}
    </div>
    <button class="toast-close" (click)="showMessage = false" aria-label="Close notification">
      âœ•
    </button>
  </div>

  <h2>Get In Touch</h2>

  <div class="contact-container">
    <form (ngSubmit)="submit()" class="contact-card" [formGroup]="contactForm">
      
      <div class="form-group">
        <label class="form-label">
          Full Name <span>*</span>
        </label>
        <input
          type="text"
          class="form-control"
          placeholder="John Doe"
          formControlName="name"
          [class.error]="isFieldInvalid('name')"
          [class.success]="isFieldValid('name')"
          aria-label="Full name">
        <span class="error-message" *ngIf="isFieldInvalid('name') && (contactForm.get('name')?.touched || submitted)">
            Please enter your name
        </span>
      </div>

      <div class="form-group">
        <label class="form-label">
          Email Address <span>*</span>
        </label>
        <input
          type="email"
          class="form-control"
          placeholder="your@email.com"
          formControlName="email"
          [class.error]="isFieldInvalid('email')"
          [class.success]="isFieldValid('email')"
          aria-label="Email address">
        <span class="error-message" *ngIf="isFieldInvalid('email') && (contactForm.get('email')?.touched || submitted)">
          Please enter a valid email
        </span>
      </div>

      <div class="form-group">
        <label class="form-label">
          Message <span>*</span>
        </label>
        <textarea
          class="form-control"
          placeholder="Write your message here... (minimum 10 characters)"
          formControlName="message"
          [class.error]="isFieldInvalid('message')"
          [class.success]="isFieldValid('message')"
          aria-label="Your message"></textarea>
        <span class="error-message" *ngIf="isFieldInvalid('message') && (contactForm.get('message')?.touched || submitted)">
            Message must be at least 10 characters
        </span>
      </div>

      <div class="form-actions">
        <button 
          type="submit" 
          class="submit-btn"
          [disabled]="!contactForm.valid || isSubmitting"
          [class.loading]="isSubmitting">
          <span class="submit-btn-text">
            <span *ngIf="!isSubmitting">âœ‰ï¸ Send Message</span>
            <span *ngIf="isSubmitting">â³ Sending...</span>
          </span>
        </button>
        <button 
          type="reset" 
          class="reset-btn"
          [disabled]="isSubmitting"
          (click)="resetForm()">
          ğŸ”„ Clear
        </button>
      </div>
    </form>


    <div class="contact-info">
      <div class="info-item">
        <div class="info-icon">ğŸ“§</div>
        <h4>Email</h4>
        <p>vishnuvardhanandhe@gmail.com</p>
      </div>
      <div class="info-item">
        <div class="info-icon">ğŸ“±</div>
        <h4>Phone</h4>
        <p>7842243462</p>
      </div>
      <div class="info-item">
        <div class="info-icon">ğŸ“</div>
        <h4>Location</h4>
        <p>Chennai, India</p>
      </div>
    </div>
  </div>
</section>
